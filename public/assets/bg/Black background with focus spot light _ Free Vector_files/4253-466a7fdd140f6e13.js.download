!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5e4b8875-4531-4516-8ad9-68f01fe4c293",e._sentryDebugIdIdentifier="sentry-dbid-5e4b8875-4531-4516-8ad9-68f01fe4c293")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4253,4390],{42636:function(e,t,n){"use strict";n.d(t,{Ef:function(){return s},Ni:function(){return a},lY:function(){return i},lg:function(){return o}}),n(48388),n(9299),n(72759);var r=n(22319),a=(0,r.c)({defaultClassName:"_1e09mfn6 $flex $justify-center $items-center $bg-surface-2 hover:$bg-surface-3 $rounded-[8px] $w-[35px] $h-[35px] $text-surface-foreground-2 $shadow-[0_0_60px_rgba(34,_34,_34,_0.25)] $cursor-pointer",variantClassNames:{isDownloading:{true:"$pointer-events-none $cursor-not-allowed"}},defaultVariants:{isDownloading:!1},compoundVariants:[]}),i="_1a81dk55",o="_1e09mfn5 $absolute $top-[10px] $right-[10px] $flex $flex-col $gap-[10px] $opacity-[0] $transition-all",s=(0,r.c)({defaultClassName:"_1e09mfn1 _1e09mfn0 _1wc8gem5 $relative $bg-black/10 $overflow-hidden $rounded-[4px] $[contain:strict]",variantClassNames:{orientation:{vertical:"$aspect-[9/16]",horizontal:"$aspect-video",square:"$aspect-square"}},defaultVariants:{orientation:"horizontal"},compoundVariants:[]})},64390:function(e,t,n){"use strict";n.r(t),n.d(t,{DownloadVideoButton:function(){return j}});var r=n(97458),a=n(51195),i=n(770),o=n(9249),s=n(19213),u=n(63918),l=n(10893),c=n(42636),d=n(2548),m=n(65122),f=n(85229),p=n(46700),h=n(52983),v=n(50987),w=n(65724),$=n(52240),x=n(33247),b=n(47874),y=n(35576),_=n(14534),g=n(68344);let N=e=>{let{resourceId:t,premium:n,quality:r,authorName:a,orientation:i,poster:o,name:s,trackActivated:u}=e,l=(0,m.e)(),[c,N]=(0,h.useState)(!1),j=(0,p.V)(),{isUserWinback:C,showWinbackModal:I}=(0,f.l)(),R=(0,g.G)({resourceId:t,location:"thumbnail",origin:"resource_thumbnail",limitModalMediaUrl:o,resourceName:s}),T=(0,y.mS)(),D=(0,$.TH)({action:"download",location:"thumbnail",file_id:t,license:n?"premium":"free",resolution:r,author_name:a,category:"video",aspect_ratio:i}),k=(0,d.Lh)(),E=(0,w.W)(t,"video","resource_thumbnail"),{showAttribution:O}=(0,v.J)(),A=(0,x.R)()({authorName:a,isAIGenerated:!1,type:"video",isPremium:n,eventName:"download__thumbnail"}),P=(0,h.useCallback)(()=>{T({resourceId:t,isResourcePremium:n,resourceType:"video",downloadType:"download"})},[T,t,n]);return{download:(0,h.useCallback)(async()=>{if(n&&!l){E({origin:"resource_thumbnail",resourceData:{name:s,resourceType:"video",mediaUrl:o},checkoutQueryParams:A,onButtonClick:P});return}if(C){I();return}N(!0);let e=await (0,_.S)({videoId:t,orientation:i,walletId:k});if(e.success){j(e.data.url,e.data.filename);let r=(0,b.z)(e.data.filename);u&&(T({resourceId:t,isResourcePremium:n||!1,resourceType:"video"}),D({fileExtension:r})),O()}else R(e,A);N(!1)},[n,l,C,t,i,k,E,s,o,A,P,I,j,u,O,T,D,R]),isDownloading:c,userPremium:l}},j=e=>{let{resourceId:t,quality:n,premium:d,authorName:m,orientation:f,trackActivated:p=!0,name:h,poster:v}=e,{t:w}=(0,l.$G)("detailCommon"),{download:$,isDownloading:x}=N({resourceId:t,quality:n,premium:d,authorName:m,orientation:f,trackActivated:p,name:h,poster:v});return(0,r.jsx)(a.u,{trigger:(0,r.jsxs)("a",{className:c.Ni({isDownloading:x}),onClick:()=>{x||$()},role:"link","data-cy":"download-thumbnail",children:[(0,r.jsx)(o.T,{children:w("download")}),x?(0,r.jsx)(i.J,{as:u.Z,size:"sm",className:c.lY}):(0,r.jsx)(i.J,{as:s.Z,size:"base"})]}),side:"left",children:(0,r.jsx)("span",{className:"$capitalize",children:w("download")})})}},93295:function(e,t,n){"use strict";n.d(t,{Q:function(){return u}});var r=n(97458),a=n(79051),i=n(50987),o=n(64390),s=n(42636);let u=e=>{let{id:t,poster:n,location:u,author:l,premium:c,quality:d,orientation:m,name:f}=e,{attributionEnabled:p}=(0,i.J)();return p?null:(0,r.jsxs)("aside",{className:s.lg,children:[(0,r.jsx)(o.DownloadVideoButton,{resourceId:t,authorName:l.name,premium:c,quality:d,orientation:m,name:f,poster:n}),"thumbnail"===u&&(0,r.jsx)(a.AddToCollection,{type:"video",id:t,preview:n,location:u,tooltipProps:{side:"left"}})]})}},3797:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(97458),a=n(58058),i=n.n(a),o=n(51780),s=n(50987);let u=e=>{let{children:t,as:n,onHandleClick:a,name:u}=e,{attributionEnabled:l}=(0,s.J)(),c=(0,o.useRouter)(),d="$block $h-full $w-full";return l?(0,r.jsx)("div",{className:d,children:t}):(0,r.jsx)(i(),{href:{pathname:c.pathname,query:c.query},as:n,className:d,shallow:!0,scroll:!1,onClick:a,"aria-label":u,prefetch:!1,children:t})}},80783:function(e,t,n){"use strict";n.d(t,{Q:function(){return f}});var r=n(97458),a=n(85787),i=n(65122),o=n(770),s=n(9249),u=n(83273),l=n(83345),c=n(4784),d=n(63081),m=n(33247);n(21966);let f=e=>{let{id:t,name:n,poster:f,authorName:p}=e,h=(0,a._)(),v=(0,i.e)(),w=(0,m.R)()({type:"video",authorName:p,isPremium:!0,isAIGenerated:!1,eventName:"download__thumbnail_crown"});w.append("origin","".concat(d.Ej,"_premium_video"));let $=v?(0,r.jsx)(c.s,{}):(0,r.jsx)(l.w,{resource:{id:t,name:n,mediaUrl:f,resourceType:"video"},urlParams:new URLSearchParams(w),category:"video"});return(0,r.jsxs)("span",{className:"_14qkqd50 $absolute $top-10 $left-10 $bg-grayEbony/70 $flex $justify-center $items-center $rounded-md","data-cy":"premium-resource-crown",children:[(0,r.jsx)(s.T,{children:"Premium"}),h?$:(0,r.jsx)(o.J,{as:u.Z,size:"sm",className:"$text-yellowPremium"})]})}},29708:function(e,t,n){"use strict";n.d(t,{n:function(){return c}});var r=n(97458),a=n(53344),i=n.n(a),o=n(50987),s=n(28851),u=n(77007);let l=i()(()=>n.e(6303).then(n.bind(n,86303)).then(e=>e.AttributionThumbnail),{loadableGenerated:{webpack:()=>[86303]},ssr:!1}),c=e=>{let{author:t,id:n,name:a,position:i,premium:c,videoSrc:d,duration:m,enableGaTracker:f,isInViewport:p,posterSrc:h,videoUrl:v}=e,{attributionEnabled:w}=(0,o.J)();if(w){var $,x;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("video",{width:480,height:270,className:u.R,preload:"metadata",autoPlay:!1,poster:h,muted:!0,playsInline:!0,loop:!0,children:p&&(0,r.jsx)("source",{"data-src":d,type:"video/mp4"})}),(0,r.jsx)(l,{authorId:null!==($=null==t?void 0:t.id)&&void 0!==$?$:0,authorName:null!==(x=null==t?void 0:t.name)&&void 0!==x?x:"",resourceUrl:v,resourceId:n,resourceName:a,mediaUrl:h,mediaWidth:640,mediaHeight:360,isAIGenerated:!1,isPremium:c,resourceType:"video"})]})}return(0,r.jsx)(s.VideoContentComponent,{poster:h,videoSrc:d,duration:m,name:a,author:t,isInViewport:p,id:n,premium:c,position:i,enableGaTracker:f})}},37908:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var r=n(97458),a=n(57291),i=n(63123),o=n(70870),s=n(18666),u=n(38012);let l=e=>{let{id:t,name:n,poster:l,containerRef:c}=e,{width:d}=(0,o.n)(c),m=!!(d&&d>=i.CC);return(0,r.jsx)(s.B,{buttonClassName:(0,a.cx)("[article:hover_&]:$opacity-100 $flex $text-white $gap-5 $items-center $sprinkles-text-sm $font-semibold $absolute $bottom-10 $left-10 $opacity-0 $transition-opacity",u.p,m?"$px-15 $py-0":"$px-[8px]"),id:t,name:null!=n?n:"",preview:{width:0,height:0,url:null!=l?l:""},type:"video",inThumbnail:!0,showLabel:m})}},47874:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});let r=e=>e.includes(".")?e.toLowerCase().split(".").pop():""},14534:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});let r=async e=>{let{videoId:t,orientation:n,walletId:r,optionId:a,action:i}=e,o=new URLSearchParams;n&&o.set("orientation",n),r&&o.set("walletId",r),a&&o.set("optionId",a.toString()),i&&o.set("action",i);let s=await fetch("/api/video/".concat(t,"/download?").concat(o.toString()));return s.ok?{success:!0,data:await s.json()}:429===s.status?{success:!1,data:"DOWNLOAD_LIMIT_REACHED",metadata:"/download-limit"}:403===s.status?{success:!1,data:"FORBIDDEN"}:401===s.status||405===s.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===s.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}}},68344:function(e,t,n){"use strict";n.d(t,{G:function(){return u}});var r=n(19170),a=n(51780),i=n(10893),o=n(52983),s=n(65724);let u=e=>{let{resourceId:t,location:n,origin:u,limitModalMediaUrl:l,resourceName:c}=e,{openToast:d}=(0,r.x_)(),{t:m}=(0,i.$G)("error"),{push:f}=(0,a.useRouter)(),p=(0,s.W)(t,u,n);return(0,o.useCallback)((e,t)=>{let n={DOWNLOAD_LIMIT_REACHED:()=>{p({origin:u,resourceData:{name:c,resourceType:"video",mediaUrl:l},checkoutQueryParams:t,modalType:"downloadLimit"})},AUTHENTICATION_ERROR:()=>{f("/oauth-logout")},NOT_FOUND:()=>{d({message:m("notFound")})},UNKNOWN_ERROR:()=>{d({message:m("unknown")})}};if("string"==typeof e.data&&e.data in n)return n[e.data]()},[p,u,c,l,f,d,m])}},5479:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(97813),a=n(91657),i=n(51780),o=n(52983),s=n(97311);let u=e=>{let{id:t,url:n,related:u,nativeAspectRatio:l,track:c,uuid:d,fromElement:m}=e,{query:{aspect_ratio:f}}=(0,i.useRouter)(),p=(0,o.useCallback)(e=>{if(null==e?void 0:e.toString()){let t=(0,r.X)(e),i=t===a._y?"":t;return"".concat(n,"/").concat(i)}return n},[n]),h=(0,o.useMemo)(()=>u?p():f&&f!==l?p(f):p(),[u,f,p,l]);return(0,s.f)(t,h,{...m&&{fromElement:m},track:c,...d&&{uuid:d}})}},91050:function(e,t,n){"use strict";n.d(t,{Ch:function(){return $},bd:function(){return f},Ft:function(){return h}});var r=n(87420),a=n(7616),i=n(52983),o=n(45591),s=n(44932),u=n(12297),l=n(24399),c=n(73139);let d=(0,c.xu)(e=>{let{locale:t,id:n}=e;return(0,c.n7)((0,l.cn)(async()=>{if(null===n)return null;let e=await fetch("/api/video?id=".concat(n,"&locale=").concat(t));if(!e.ok)throw Error("Failed to fetch video ".concat(n));return await e.json()}))},u.vZ),m=()=>{let e=(0,r.ZK)(),t=(0,a.Dv)(s.D),n=(0,a.Dv)(d({locale:e,id:t}));return"hasData"===n.state?n.data:null},f=()=>{let e=(0,o.yd)(),t=m();return(0,i.useMemo)(()=>[null===t,null!=t?t:e],[e,t])},p=(0,i.createContext)([]),h=()=>(0,i.useContext)(p);var v=n(97458),w=n(61462);let $=e=>{let{videos:t,children:n,...r}=e;return(0,v.jsx)(p.Provider,{value:t,children:(0,v.jsx)(w.b,{...r,items:t,children:n})})}},63918:function(e,t,n){"use strict";var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:16,height:16,"aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M269.2 438.4c-100.6 0-182.4-81.8-182.4-182.4S168.6 73.6 269.2 73.6c61.1 0 117.9 30.4 151.8 81.3 7.7 11.5 4.6 27-6.9 34.7s-27 4.6-34.7-6.9c-24.6-37-65.9-59.1-110.2-59.1-73 0-132.4 59.4-132.4 132.4s59.4 132.4 132.4 132.4c44.4 0 85.6-22.1 110.2-59.1 7.7-11.5 23.2-14.6 34.7-6.9s14.6 23.2 6.9 34.7c-33.9 50.9-90.7 81.3-151.8 81.3"})})},72759:function(){},21966:function(){}}]);